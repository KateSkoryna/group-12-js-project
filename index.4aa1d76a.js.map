{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAoB,GACpBC,EAAkB,GAuBxB,SAASC,IAC2BC,KAAKC,MAAMC,aAAaC,QAAQ,SAEzCC,SAAQC,KAC5B,EAAAC,EAAAC,kBAAiBF,MA2BxB,SAASG,IACyBR,KAAKC,MAAMC,aAAaC,QAAQ,SAEzCC,SAAQC,KAC1B,EAAAC,EAAAC,kBAAiBF,MAKxBV,EAAAc,cAAcC,iBAAiB,SA7D/B,SAAsBC,GAClB,MAAMC,EAAc,sBAEpB,GAAIjB,EAAAc,cAAcI,cAAgBD,EAI9B,OAHAjB,EAAAc,cAAcI,YAAc,iBAYpC,SAA+BF,GAC3B,MAAMG,EAAWjB,EAAkBkB,QAAQJ,GACrCK,EAAsBnB,EAAkBoB,OAAOH,EAAU,GAC/DZ,aAAagB,QAAQ,gBAAiBlB,KAAKmB,UAAUH,IAdjDI,QACArB,IAILJ,EAAAc,cAAcI,YAAcD,EAC3Bf,EAAkBwB,KAAK,C,KAAEV,IACzBT,aAAagB,QAAQ,gBAAiBlB,KAAKmB,UAAUtB,IAErDE,OAgDJJ,EAAA2B,cAAcZ,iBAAiB,SAhC/B,SAAoBC,GACd,MAAMY,EAAY,oBAEpB,GAAI5B,EAAA2B,cAAcT,cAAgBU,EAI9B,OAHA5B,EAAA2B,cAAcT,YAAc,eAapC,SAAyBF,GACpB,MAAMG,EAAWhB,EAAgBiB,QAAQJ,GACpCa,EAAoB1B,EAAgBmB,OAAOH,EAAU,GAC3DZ,aAAagB,QAAQ,QAASlB,KAAKmB,UAAUK,IAfzCC,QACAjB,IAILb,EAAA2B,cAAcT,YAAcU,EAC3BzB,EAAgBuB,KAAK,C,KAAEV,IACvBT,aAAagB,QAAQ,QAASlB,KAAKmB,UAAUrB,IAE7CU","sources":["src/js/local-storage.js"],"sourcesContent":["import { modalWatchBtn, modalQueueBtn } from './refs';\nimport { renderTrandFilms } from './render-cards';\n\nconst arrayWatchedFilms = [];\nconst arrayQueueFilms = [];\n\nfunction addToWatched(data) {\n    const watchedFilm = 'remove from watched';\n\n    if (modalWatchBtn.textContent === watchedFilm) {\n        modalWatchBtn.textContent = 'add to watched';\n        removeFilmFromWatched();\n        updateWatchedFilms();\n        return;\n    }\n\n   modalWatchBtn.textContent = watchedFilm;\n    arrayWatchedFilms.push({ data });\n    localStorage.setItem('watched films', JSON.stringify(arrayWatchedFilms));\n\n    updateWatchedFilms()\n}\nfunction removeFilmFromWatched(data) {\n    const newIndex = arrayWatchedFilms.indexOf(data);\n    const updatedWatchedFilms = arrayWatchedFilms.splice(newIndex, 1)\n    localStorage.setItem('watched films', JSON.stringify(updatedWatchedFilms));\n}\nfunction updateWatchedFilms() {\n    const watchedFilmsFromStorage = JSON.parse(localStorage.getItem('list'));\n    \n   watchedFilmsFromStorage.forEach(film => {\n       renderTrandFilms(film);\n   });\n}\n\n\nfunction addToQueue(data) {\n      const queueFilm = 'remove from queue';\n\n    if (modalQueueBtn.textContent === queueFilm) {\n        modalQueueBtn.textContent = 'add to queue';\n        removeFilmQueue();\n        updateQueueFilms();\n        return;\n    }\n\n   modalQueueBtn.textContent = queueFilm;\n    arrayQueueFilms.push({ data });\n    localStorage.setItem('queue', JSON.stringify(arrayQueueFilms));\n\n    updateQueueFilms()\n}\n\nfunction removeFilmQueue(data) {\n     const newIndex = arrayQueueFilms.indexOf(data);\n    const updatedQueueFilms = arrayQueueFilms.splice(newIndex, 1)\n    localStorage.setItem('queue', JSON.stringify(updatedQueueFilms));\n}\nfunction updateQueueFilms() {\n    const queueFilmsFromStorage = JSON.parse(localStorage.getItem('list'));\n    \n   queueFilmsFromStorage.forEach(film => {\n       renderTrandFilms(film);\n   });\n}\n\n\nmodalWatchBtn.addEventListener('click', addToWatched);\nmodalQueueBtn.addEventListener('click', addToQueue);"],"names":["$krGWQ","parcelRequire","$8125d1701b78b442$var$arrayWatchedFilms","$8125d1701b78b442$var$arrayQueueFilms","$8125d1701b78b442$var$updateWatchedFilms","JSON","parse","localStorage","getItem","forEach","film","$1Ea6K","renderTrandFilms","$8125d1701b78b442$var$updateQueueFilms","modalWatchBtn","addEventListener","data","watchedFilm","textContent","newIndex","indexOf","updatedWatchedFilms","splice","setItem","stringify","$8125d1701b78b442$var$removeFilmFromWatched","push","modalQueueBtn","queueFilm","updatedQueueFilms","$8125d1701b78b442$var$removeFilmQueue"],"version":3,"file":"index.4aa1d76a.js.map"}