{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,2FASA,MAAMC,EAAgBC,SAASC,cAAc,qBACvCC,EAAcF,SAASC,cAAc,mBAE3C,IAAIE,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEC,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAUlE,SAASC,IACL,GAAIb,EAAcc,UAAUC,SAAS,WAAgC,IAAnBX,EAAQY,OACtD,IACIZ,EAAQa,KAAKC,IAAQ,EAAAC,EAAAC,qBAAoBF,GAAIG,KAAKC,EAAAC,gB,CACpD,MAAOC,GACLC,QAAQC,IAAIF,E,CAGpB,GAAIrB,EAAYW,UAAUC,SAAS,WAA8B,IAAjBJ,EAAMK,OAClD,IACIL,EAAMM,KAAKC,IAAQ,EAAAC,EAAAC,qBAAoBF,GAAIG,KAAKC,EAAAC,gB,CAClD,MAAOI,GACLF,QAAQC,IAAIC,E,EAnBD,iBAAnB1B,SAAS2B,QACTf,IACqB,IAAjBF,EAAMK,QACNlB,EAAA+B,OAAOC,QAAQ,sCAkDvB9B,EAAc+B,iBAAiB,SA7B/B,WAC2B,IAAnB3B,EAAQY,QAIZgB,EAAAC,UAAUC,UAAY,GAClBlC,EAAcc,UAAUC,SAAS,YACrCf,EAAcc,UAAUqB,IAAI,UAC5BhC,EAAYW,UAAUsB,OAAO,UAC7BhC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEG,MARIf,EAAA+B,OAAOC,QAAQ,uC,IA6BvB3B,EAAY4B,iBAAiB,SAjB7B,WAC0B,IAAjBpB,EAAMK,QAIXgB,EAAAC,UAAUC,UAAY,GAClB/B,EAAYW,UAAUC,SAAS,YACnCZ,EAAYW,UAAUqB,IAAI,UAC1BnC,EAAcc,UAAUsB,OAAO,UAE/BzB,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAC9DC,MATIf,EAAA+B,OAAOC,QAAQ,oC","sources":["src/js/my-lib.js"],"sourcesContent":["import { Notify } from 'notiflix';\nimport { fetchSearchFilmById, gnrArr } from './fetch-films';\nimport { backdrop, jsLibrary, storageChoice, gallery } from './refs';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\nimport { renderModalCard } from './renderModalCard';\nimport { onEscPress } from './modal';\nimport { renderLibrary } from './render-cards';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\n\nconst watchedChoice = document.querySelector('#js-WatchedButton');\nconst queueChoice = document.querySelector('#js-QueueButton');\n\nlet watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\nlet queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || [];\n\n\nif (document.title === 'Your library') {\n    renderFilmGallery()\n    if (queue.length === 0) {\n        Notify.failure('Now you don`t have films in queue')\n    }\n}\n\nfunction renderFilmGallery() {\n    if (watchedChoice.classList.contains('chosen') && watched.length !== 0) {\n        try {\n            watched.map((id) => (fetchSearchFilmById(id).then(renderLibrary)));\n        } catch (error) {\n            console.log(error);\n        }\n    }\n    if (queueChoice.classList.contains('chosen') && queue.length !== 0) {\n        try {           \n            queue.map((id) => (fetchSearchFilmById(id).then(renderLibrary)));\n        } catch (error) {\n            console.log(error);\n        }\n    }}\n\n\nfunction tupWatchBtn() {\n    if (watched.length === 0) {\n        Notify.failure('Now you don`t have films you watched');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    if (watchedChoice.classList.contains('chosen')) return;\n    watchedChoice.classList.add('chosen')\n    queueChoice.classList.remove('chosen')\n    watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\n    renderFilmGallery(watched);\n}\n\n\nfunction tupQueueButton() {\n     if (queue.length === 0) {\n        Notify.failure('Now you don`t have films in queue');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    if (queueChoice.classList.contains('chosen')) return;\n    queueChoice.classList.add('chosen')\n    watchedChoice.classList.remove('chosen')\n\n    queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || []; \n    renderFilmGallery(queue)\n}\n\n\nwatchedChoice.addEventListener('click', tupWatchBtn);\n\nqueueChoice.addEventListener('click', tupQueueButton);\n\n\n"],"names":["$eWCmQ","parcelRequire","$68432367af42cc78$var$watchedChoice","document","querySelector","$68432367af42cc78$var$queueChoice","$68432367af42cc78$var$watched","JSON","parse","localStorage","getItem","$18cbB","WATCHSTORAGE_KEY","$68432367af42cc78$var$queue","QUEUESTORAGE_KEY","$68432367af42cc78$var$renderFilmGallery","classList","contains","length","map","id","$fvCRb","fetchSearchFilmById","then","$1Ea6K","renderLibrary","error","console","log","error1","title","Notify","failure","addEventListener","$krGWQ","jsLibrary","innerHTML","add","remove"],"version":3,"file":"myLib.36013f60.js.map"}