{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,iEAQIC,G,aAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,IAChEC,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAUlE,SAASC,EAAkBC,GACnB,IACIA,EAAYC,KAAI,SAAAC,GACZ,IAAMC,EAAKC,SAASF,GACpB,OAAO,EAAAd,EAAAiB,qBAAoBF,GAAIG,KAAKC,EAAAC,c,IAE1C,MAAOC,GACLC,QAAQC,IAAIF,E,EAdD,iBAAnBG,SAASC,QACTd,EAAkBT,GACK,IAAnBA,EAAQwB,QACRC,EAAAC,aAAaC,UAAUC,OAAO,aA6CtCH,EAAAI,cAAcC,iBAAiB,SA9B/B,WACI,GAAuB,IAAnB9B,EAAQwB,OAGR,OAFAC,EAAAM,UAAUC,UAAY,QACtBP,EAAAC,aAAaC,UAAUC,OAAO,YAGlCH,EAAAM,UAAUC,UAAY,GACtBP,EAAAI,cAAcF,UAAUM,IAAI,UAC5BR,EAAAS,YAAYP,UAAUC,OAAO,UAC7BH,EAAAC,aAAaC,UAAUM,IAAI,YAE3BxB,EADAT,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,G,IAsBpEmB,EAAAS,YAAYJ,iBAAiB,SAjB7B,WACI,GAAqB,IAAjBvB,EAAMiB,OAGN,OAFAC,EAAAM,UAAUC,UAAY,QACtBP,EAAAC,aAAaC,UAAUC,OAAO,YAGlCH,EAAAM,UAAUC,UAAY,GACtBP,EAAAS,YAAYP,UAAUM,IAAI,UAC1BR,EAAAI,cAAcF,UAAUC,OAAO,UAC/BH,EAAAC,aAAaC,UAAUM,IAAI,YAE3BxB,EADAF,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,G","sources":["src/js/my-lib.js"],"sourcesContent":["import { fetchSearchFilmById, fetchGenres, gnrArr } from './fetch-films';\nimport { backdrop, jsLibrary, storageChoice, gallery, watchedChoice, queueChoice, emptyGallery } from './refs';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\nimport { renderModalCard } from './renderModalCard';\nimport { onEscPress } from './modal';\nimport { renderLibrary } from './render-cards';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\n\nlet watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\nlet queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || [];\n\n\nif (document.title === 'Your library') {\n    renderFilmGallery(watched)\n    if (watched.length === 0) {\n        emptyGallery.classList.remove('disguise');\n    }\n};\n\nfunction renderFilmGallery(varietyList) {\n        try {\n            varietyList.map(f => {\n                const id = parseInt(f);\n                return fetchSearchFilmById(id).then(renderLibrary);\n            })\n        } catch (error) {\n            console.log(error);\n        }\n};\n\nfunction tupWatchBtn() {\n    if (watched.length === 0) {\n        jsLibrary.innerHTML = ''\n        emptyGallery.classList.remove('disguise');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    watchedChoice.classList.add('chosen');\n    queueChoice.classList.remove('chosen');\n    emptyGallery.classList.add('disguise');\n    watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\n    renderFilmGallery(watched);\n};\n\n\nfunction tupQueueButton() {\n    if (queue.length === 0) {\n        jsLibrary.innerHTML = '';\n        emptyGallery.classList.remove('disguise');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    queueChoice.classList.add('chosen')\n    watchedChoice.classList.remove('chosen')\n    emptyGallery.classList.add('disguise');\n    queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || []; \n    renderFilmGallery(queue);\n};\n\n\nwatchedChoice.addEventListener('click', tupWatchBtn);\n\nqueueChoice.addEventListener('click', tupQueueButton);\n"],"names":["$3nKWv","parcelRequire","$3ba646322a3e9d8c$var$watched","JSON","parse","localStorage","getItem","$1lbol","WATCHSTORAGE_KEY","$3ba646322a3e9d8c$var$queue","QUEUESTORAGE_KEY","$3ba646322a3e9d8c$var$renderFilmGallery","varietyList","map","f","id","parseInt","fetchSearchFilmById","then","$6f6o8","renderLibrary","error","console","log","document","title","length","$4Nugj","emptyGallery","classList","remove","watchedChoice","addEventListener","jsLibrary","innerHTML","add","queueChoice"],"version":3,"file":"myLib.4d060fe1.js.map"}