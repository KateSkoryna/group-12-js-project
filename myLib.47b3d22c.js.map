{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,uCAKIC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEC,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAYlE,SAASC,IACP,GAAuB,IAAnBT,EAAQU,OAGV,OAFAC,EAAAC,QAAQC,UAAY,QACpBF,EAAAG,aAAaC,UAAUC,OAAO,YAG9BL,EAAAC,QAAQC,UAAY,GACpBF,EAAAM,cAAcF,UAAUG,IAAI,UAC5BP,EAAAQ,YAAYJ,UAAUC,OAAO,UAC7BL,EAAAG,aAAaC,UAAUG,IAAI,YAC3BE,EAAkBpB,E,CAkBtB,SAASoB,EAAkBC,GACzB,IACEA,EAAYC,KAAI,SAAAC,GACd,IAAMC,EAAKC,SAASF,GACpB,OAAO,EAAAzB,EAAA4B,qBAAoBF,GAAIG,KAAKC,EAAAC,c,IAEtC,MAAOC,GACPC,QAAQC,IAAIF,E,EA7CO,IAAnB9B,EAAQU,OACVC,EAAAG,aAAaC,UAAUC,OAAO,aAE9BL,EAAAC,QAAQC,UAAY,GACpBJ,KAGFE,EAAAM,cAAcgB,iBAAiB,QAASxB,GACxCE,EAAAQ,YAAYc,iBAAiB,SAgB7B,WACE,GAAqB,IAAjB1B,EAAMG,OAGR,OAFAC,EAAAC,QAAQC,UAAY,QACpBF,EAAAG,aAAaC,UAAUC,OAAO,YAG9BL,EAAAC,QAAQC,UAAY,GACpBF,EAAAQ,YAAYJ,UAAUG,IAAI,UAC1BP,EAAAM,cAAcF,UAAUC,OAAO,UAC/BL,EAAAG,aAAaC,UAAUG,IAAI,YAC3BE,EAAkBb,E","sources":["src/js/my-lib.js"],"sourcesContent":["import { fetchSearchFilmById } from './fetch-films';\nimport { gallery, watchedChoice, queueChoice, emptyGallery } from './refs';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\nimport { renderWachLib } from './render-cards';\n\nlet watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\nlet queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || [];\n\nif (watched.length === 0) {\n  emptyGallery.classList.remove('disguise');\n} else {\n  gallery.innerHTML = '';\n  tupWatchBtn();\n}\n\nwatchedChoice.addEventListener('click', tupWatchBtn);\nqueueChoice.addEventListener('click', tupQueueButton);\n\nfunction tupWatchBtn() {\n  if (watched.length === 0) {\n    gallery.innerHTML = '';\n    emptyGallery.classList.remove('disguise');\n    return;\n  } else {\n    gallery.innerHTML = '';\n    watchedChoice.classList.add('chosen');\n    queueChoice.classList.remove('chosen');\n    emptyGallery.classList.add('disguise');\n    renderFilmGallery(watched);\n  }\n}\n\nfunction tupQueueButton() {\n  if (queue.length === 0) {\n    gallery.innerHTML = '';\n    emptyGallery.classList.remove('disguise');\n    return;\n  } else {\n    gallery.innerHTML = '';\n    queueChoice.classList.add('chosen');\n    watchedChoice.classList.remove('chosen');\n    emptyGallery.classList.add('disguise');\n    renderFilmGallery(queue);\n  }\n}\n\nfunction renderFilmGallery(varietyList) {\n  try {\n    varietyList.map(f => {\n      const id = parseInt(f);\n      return fetchSearchFilmById(id).then(renderWachLib);\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"names":["$3nKWv","parcelRequire","$3ba646322a3e9d8c$var$watched","JSON","parse","localStorage","getItem","$1lbol","WATCHSTORAGE_KEY","$3ba646322a3e9d8c$var$queue","QUEUESTORAGE_KEY","$3ba646322a3e9d8c$var$tupWatchBtn","length","$4Nugj","gallery","innerHTML","emptyGallery","classList","remove","watchedChoice","add","queueChoice","$3ba646322a3e9d8c$var$renderFilmGallery","varietyList","map","f","id","parseInt","fetchSearchFilmById","then","$6f6o8","renderWachLib","error","console","log","addEventListener"],"version":3,"file":"myLib.47b3d22c.js.map"}