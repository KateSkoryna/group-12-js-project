{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,2FASA,IAAIC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEC,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAWlE,SAASC,EAAkBC,GACnB,IACIA,EAAYC,KAAIC,IACZ,MAAMC,EAAKC,SAASF,GACpB,OAAO,EAAAG,EAAAC,qBAAoBH,GAAII,KAAKC,EAAAC,cAAc,G,CAExD,MAAOC,GACLC,QAAQC,IAAIF,E,EAfD,iBAAnBG,SAASC,QACTf,EAAkBT,GACK,IAAnBA,EAAQyB,SACRC,EAAAC,aAAaC,UAAUC,OAAO,YAC9B/B,EAAAgC,OAAOC,QAAQ,uCA+CvBL,EAAAM,cAAcC,iBAAiB,SAhC/B,WACI,GAAuB,IAAnBjC,EAAQyB,OAIR,OAHAC,EAAAQ,UAAUC,UAAY,GACtBT,EAAAC,aAAaC,UAAUC,OAAO,iBAC9B/B,EAAAgC,OAAOC,QAAQ,wCAGnBL,EAAAQ,UAAUC,UAAY,GACtBT,EAAAM,cAAcJ,UAAUQ,IAAI,UAC5BV,EAAAW,YAAYT,UAAUC,OAAO,UAC7BH,EAAAC,aAAaC,UAAUQ,IAAI,YAC3BpC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEG,EAAkBT,E,IAsBtB0B,EAAAW,YAAYJ,iBAAiB,SAlB7B,WACI,GAAqB,IAAjB1B,EAAMkB,OAIN,OAHAC,EAAAQ,UAAUC,UAAY,GACtBT,EAAAC,aAAaC,UAAUC,OAAO,iBAC9B/B,EAAAgC,OAAOC,QAAQ,qCAGnBL,EAAAQ,UAAUC,UAAY,GACtBT,EAAAW,YAAYT,UAAUQ,IAAI,UAC1BV,EAAAM,cAAcJ,UAAUC,OAAO,UAC/BH,EAAAC,aAAaC,UAAUQ,IAAI,YAC3B7B,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAC9DC,EAAkBF,E","sources":["src/js/my-lib.js"],"sourcesContent":["import { Notify } from 'notiflix';\nimport { fetchSearchFilmById, gnrArr } from './fetch-films';\nimport { backdrop, jsLibrary, storageChoice, gallery, watchedChoice, queueChoice, emptyGallery } from './refs';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\nimport { renderModalCard } from './renderModalCard';\nimport { onEscPress } from './modal';\nimport { renderLibrary } from './render-cards';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\n\nlet watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\nlet queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || [];\n\n\nif (document.title === 'Your library') {\n    renderFilmGallery(watched)\n    if (watched.length === 0) {\n        emptyGallery.classList.remove('disguise');\n        Notify.failure('Now you don`t have films in queue')\n    }\n};\n\nfunction renderFilmGallery(varietyList) {\n        try {\n            varietyList.map(f => {\n                const id = parseInt(f);\n                return fetchSearchFilmById(id).then(renderLibrary);\n            })\n        } catch (error) {\n            console.log(error);\n        }\n};\n\nfunction tupWatchBtn() {\n    if (watched.length === 0) {\n        jsLibrary.innerHTML = ''\n        emptyGallery.classList.remove('disguise');\n        Notify.failure('Now you don`t have films you watched');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    watchedChoice.classList.add('chosen');\n    queueChoice.classList.remove('chosen');\n    emptyGallery.classList.add('disguise');\n    watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\n    renderFilmGallery(watched);\n};\n\n\nfunction tupQueueButton() {\n    if (queue.length === 0) {\n        jsLibrary.innerHTML = '';\n        emptyGallery.classList.remove('disguise');\n        Notify.failure('Now you don`t have films in queue');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    queueChoice.classList.add('chosen')\n    watchedChoice.classList.remove('chosen')\n    emptyGallery.classList.add('disguise');\n    queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || []; \n    renderFilmGallery(queue);\n};\n\n\nwatchedChoice.addEventListener('click', tupWatchBtn);\n\nqueueChoice.addEventListener('click', tupQueueButton);\n"],"names":["$eWCmQ","parcelRequire","$68432367af42cc78$var$watched","JSON","parse","localStorage","getItem","$18cbB","WATCHSTORAGE_KEY","$68432367af42cc78$var$queue","QUEUESTORAGE_KEY","$68432367af42cc78$var$renderFilmGallery","varietyList","map","f","id","parseInt","$fvCRb","fetchSearchFilmById","then","$1Ea6K","renderLibrary","error","console","log","document","title","length","$krGWQ","emptyGallery","classList","remove","Notify","failure","watchedChoice","addEventListener","jsLibrary","innerHTML","add","queueChoice"],"version":3,"file":"myLib.4196d7ab.js.map"}