{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,8EAQA,IAAIC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEC,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAUlE,SAASC,EAAkBC,GACnB,IACIA,EAAYC,KAAIC,IACZ,MAAMC,EAAKC,SAASF,GACpB,OAAO,EAAAd,EAAAiB,qBAAoBF,GAAIG,KAAKC,EAAAC,cAAc,G,CAExD,MAAOC,GACLC,QAAQC,IAAIF,E,EAdD,iBAAnBG,SAASC,QACTd,EAAkBT,GACK,IAAnBA,EAAQwB,QACRC,EAAAC,aAAaC,UAAUC,OAAO,aA6CtCH,EAAAI,cAAcC,iBAAiB,SA9B/B,WACI,GAAuB,IAAnB9B,EAAQwB,OAGR,OAFAC,EAAAM,UAAUC,UAAY,QACtBP,EAAAC,aAAaC,UAAUC,OAAO,YAGlCH,EAAAM,UAAUC,UAAY,GACtBP,EAAAI,cAAcF,UAAUM,IAAI,UAC5BR,EAAAS,YAAYP,UAAUC,OAAO,UAC7BH,EAAAC,aAAaC,UAAUM,IAAI,YAC3BjC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,oBAAsB,GAChEG,EAAkBT,E,IAqBtByB,EAAAS,YAAYJ,iBAAiB,SAjB7B,WACI,GAAqB,IAAjBvB,EAAMiB,OAGN,OAFAC,EAAAM,UAAUC,UAAY,QACtBP,EAAAC,aAAaC,UAAUC,OAAO,YAGlCH,EAAAM,UAAUC,UAAY,GACtBP,EAAAS,YAAYP,UAAUM,IAAI,UAC1BR,EAAAI,cAAcF,UAAUC,OAAO,UAC/BH,EAAAC,aAAaC,UAAUM,IAAI,YAC3B1B,EAAQN,KAAKC,MAAMC,aAAaC,QAAQC,EAAAG,oBAAsB,GAC9DC,EAAkBF,E","sources":["src/js/my-lib.js"],"sourcesContent":["import { fetchSearchFilmById, fetchGenres, gnrArr } from './fetch-films';\nimport { backdrop, jsLibrary, storageChoice, gallery, watchedChoice, queueChoice, emptyGallery } from './refs';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\nimport { renderModalCard } from './renderModalCard';\nimport { onEscPress } from './modal';\nimport { renderLibrary } from './render-cards';\nimport { WATCHSTORAGE_KEY, QUEUESTORAGE_KEY } from './data/keys';\n\nlet watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\nlet queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || [];\n\n\nif (document.title === 'Your library') {\n    renderFilmGallery(watched)\n    if (watched.length === 0) {\n        emptyGallery.classList.remove('disguise');\n    }\n};\n\nfunction renderFilmGallery(varietyList) {\n        try {\n            varietyList.map(f => {\n                const id = parseInt(f);\n                return fetchSearchFilmById(id).then(renderLibrary);\n            })\n        } catch (error) {\n            console.log(error);\n        }\n};\n\nfunction tupWatchBtn() {\n    if (watched.length === 0) {\n        jsLibrary.innerHTML = ''\n        emptyGallery.classList.remove('disguise');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    watchedChoice.classList.add('chosen');\n    queueChoice.classList.remove('chosen');\n    emptyGallery.classList.add('disguise');\n    watched = JSON.parse(localStorage.getItem(WATCHSTORAGE_KEY)) || [];\n    renderFilmGallery(watched);\n};\n\n\nfunction tupQueueButton() {\n    if (queue.length === 0) {\n        jsLibrary.innerHTML = '';\n        emptyGallery.classList.remove('disguise');\n        return\n    }\n    jsLibrary.innerHTML = ''\n    queueChoice.classList.add('chosen')\n    watchedChoice.classList.remove('chosen')\n    emptyGallery.classList.add('disguise');\n    queue = JSON.parse(localStorage.getItem(QUEUESTORAGE_KEY)) || []; \n    renderFilmGallery(queue);\n};\n\n\nwatchedChoice.addEventListener('click', tupWatchBtn);\n\nqueueChoice.addEventListener('click', tupQueueButton);\n"],"names":["$fvCRb","parcelRequire","$68432367af42cc78$var$watched","JSON","parse","localStorage","getItem","$18cbB","WATCHSTORAGE_KEY","$68432367af42cc78$var$queue","QUEUESTORAGE_KEY","$68432367af42cc78$var$renderFilmGallery","varietyList","map","f","id","parseInt","fetchSearchFilmById","then","$1Ea6K","renderLibrary","error","console","log","document","title","length","$krGWQ","emptyGallery","classList","remove","watchedChoice","addEventListener","jsLibrary","innerHTML","add","queueChoice"],"version":3,"file":"myLib.d7118815.js.map"}